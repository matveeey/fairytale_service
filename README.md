# Генератор сказок с картинками
## Fairytale Generator

## Описание

Проект представляет из себя генератор небольших историй-сказок с картинками. Проект включает в себя несколько микросервисов, которые взаимодействуют через API.

Все микросервисы запущены в отдельных docker контейнерах.

Проксирование портов описано в docker-compose.yml

## Деплой

На данный момент рабочей версией приложения можно воспользоваться на:
### http://matveymatvey.ru

## Основные функции

- **story_service**: Обрабатывает ввод пользователя и выводит данные.
- **yc_access_service**: Осуществляет периодическое обновление токенов для доступа к Yandex Cloud Api
- **llm_manager_service**: Предоставляет доступ к LLM (генерация текста).
- **vlm_manager_service**: Предоставляет доступ к VLM (генерация изображений).
- **Nginx**: Выступает в роли прокси-сервера для маршрутизации запросов на машине.
- **Redis**: Используется для кэширования и хранения токенов.

## Установка

Для установки и запуска проекта выполните следующие шаги:

1. **Клонируйте репозиторий:**

    ```bash
    git clone https://github.com/matveeey/fairytale_service.git
    cd  fairytale_service

2. **Создайте файл .env и установите необходимые переменные окружения:**

    ```bash
    cp .env.example .env
    ```

3. **Откройте файл .env и установите следующие переменные:**

    ```bash
    YC_KEYS_PATH=app/keys/_keys.json
    ```

4. **Запустите проект с помощью Docker Compose:**
    
    ```bash
    docker-compose up --build
    ```

## Переменные окружения

Для корректной работы проекта необходимо установить следующие переменные окружения:

    YC_KEYS_PATH: Путь к файлу с ключами для доступа к Yandex Cloud.

## Ключи для доступа к Yandex Cloud
В файле с ключами *keys/_keys.json* необходимо описать:
```
    "private_key" 
	"key_id"
	"service_account_id"
	"folder_id"
```

## Зависимости

Более подробно все зависимости описаны в requirements.txt соответствующего сервиса